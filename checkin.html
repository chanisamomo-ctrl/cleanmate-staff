const API_URL = "https://script.google.com/macros/s/AKfycbwxRLFXKijxkzSPh2lgJtFflWPvSTIkStmNIsnsILIBAMUEkDM5MCaxzlfP4FUweystEw/exec";

async function submit() {
  document.getElementById("msg").innerText = "กำลังบันทึก...";

  const params = new URLSearchParams({
    action: "checkin",
    staff_id: document.getElementById("staff").value,
    branch_id: document.getElementById("branch").value,
    shift: document.getElementById("shift").value
  });

  const res = await fetch(API_URL, {
    method: "POST",
    body: params
  });

  const data = await res.json();
  document.getElementById("msg").innerText = data.ok ? ("สำเร็จ: " + data.attendance_id) : ("ไม่สำเร็จ: " + data.error);
}
